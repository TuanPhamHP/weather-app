(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{16:function(e,t,a){e.exports=a(41)},21:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),o=a.n(r),i=(a(21),a(4)),l=a.n(i),s=a(15),m=a(2),u=a(3),d=a.n(u);function p(e,t){var a=e.getUTCHours()+t<0?"".concat(e.getUTCHours()+t+24):e.getUTCHours()+t,n=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();e.getSeconds();return"".concat(a," : ").concat(n)}var f=function(e){var t=e.weather,a=e.weatherHly,r=new Date,o=Object(n.useState)(p(r)),i=Object(m.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(a),d=Object(m.a)(u,2),f=d[0],h=d[1];return Object(n.useEffect)((function(){p(new Date,t.timezone/3600),setTimeout((function(){var e=p(new Date,+t.timezone/3600);s(e),h(a)}),1);var e=setInterval((function(){var e=p(new Date,+t.timezone/3600);s(e)}),6e3);return function(){clearInterval(e)}})),c.a.createElement("div",null,c.a.createElement("div",{key:Math.random()*Date.now(),className:"weather-card main-card ".concat(function(){switch(t.weather[0].main){case"Rain":return"rainny-day";case"Clouds":return"cloudy-day";case"Clear":return"clear-sky";case"Smoke":return"smoke-day";default:return""}}()," ").concat(t.main.temp<292?"cold-day":292<t.main.temp&&t.main.temp<300?"fresh-day":t.main.temp>300?"hot-day":void 0)},c.a.createElement("button",{className:"set-default",onClick:function(){localStorage.clear(),localStorage.setItem("initValue",JSON.stringify(t))}},"Set as default"),c.a.createElement("p",{className:"weather-name"},t.name),c.a.createElement("p",{className:"weather-temp"},(t.main.temp-273.15).toFixed(1),c.a.createElement("sup",null,"\xb0C")),c.a.createElement("div",{className:"weather-temp--minmax"}," ",c.a.createElement("p",{className:"weather-temp--min"},"Min :",(t.main.temp_min-273.15).toFixed(1),c.a.createElement("sup",null,"\xb0C")),c.a.createElement("p",{className:"weather-temp--max"},"Max :",(t.main.temp_max-273.15).toFixed(1),c.a.createElement("sup",null,"\xb0C"))),c.a.createElement("p",{className:"weather-description"},t.weather[0].description),c.a.createElement("p",{className:"weather-humidity"},"Humidity :",t.main.humidity,"%"),c.a.createElement("p",{className:"notice notice-cold"},"Beware, my friends to day is quite cold . Keep your self warm ."),c.a.createElement("p",{className:"notice notice-cool"},"What a nice day. My friends, to day is a good day . Keep your self up ."),c.a.createElement("p",{className:"notice notice-hot"},"Beware, my friends to day is a hot day . Keep your self calm and have a good day ."),c.a.createElement("div",{className:"hourly-wrapper"},function(){if(f){return f.filter((function(e){if(new Date(1e3*e.dt).getHours()>(new Date).getHours()&&new Date(1e3*e.dt).getHours()<24)return e})).map((function(e){return c.a.createElement("div",{key:e.dt,className:"hourly-items"},function(e){var t=new Date(1e3*e),a="".concat(JSON.stringify(t.getHours())," : 00");return c.a.createElement("p",{className:"time"},a)}(e.dt),c.a.createElement("p",{className:"temp"},(e.temp-273.15).toFixed(1),c.a.createElement("sup",null,"\xb0C")),c.a.createElement("p",{className:"description"},e.weather[0].description))}))}}()),c.a.createElement("p",{className:"weather-time"},l),c.a.createElement("p",{className:"weather-GMT"},"Time Zone : GMT",t.timezone<0?"".concat(t.timezone/3600):"+".concat(t.timezone/3600))))},h=(a(40),"f5ff5f05cff9a15fb369cecc24fe826c"),y={coord:{lon:107.83,lat:16.17},weather:[{id:802,main:"Clouds",description:"scattered clouds",icon:"03d"}],base:"stations",main:{temp:303.64,feels_like:308.79,temp_min:302.15,temp_max:305.15,pressure:1008,humidity:74},visibility:1e4,wind:{speed:2.1,deg:200},clouds:{all:40},dt:1592363664,sys:{type:1,id:9310,country:"VN",sunrise:1592345821,sunset:1592392935},timezone:25200,id:1562822,name:"Vietnam",cod:200};var w=function(){var e=Object(n.useState)(y),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),i=Object(m.a)(o,2),u=i[0],p=i[1],w=Object(n.useState)([]),g=Object(m.a)(w,2),E=g[0],N=g[1],b=Object(n.useState)([]),v=Object(m.a)(b,2),S=v[0],O=v[1],j=Object(n.useState)(JSON.parse(localStorage.getItem("initValue"))?JSON.parse(localStorage.getItem("initValue")).coord:y.coord),k=Object(m.a)(j,2),x=k[0],C=k[1],D="https://api.openweathermap.org/data/2.5/weather?q=".concat(E,"&appid=").concat(h),H="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(x.lat,"&lon=").concat(x.lon,"&exclude=minutely,daily&appid=").concat(h),I=Object(n.useCallback)(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get(D);case 3:t=e.sent,r(t.data),C(t.data.coord),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),r(JSON.parse(localStorage.getItem("initValue"))?JSON.parse(localStorage.getItem("initValue")):y),C(JSON.parse(localStorage.getItem("initValue"))?JSON.parse(localStorage.getItem("initValue")).coord:y.coord);case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),[H,x,D]);return Object(n.useEffect)((function(){I()}),[E]),Object(n.useEffect)((function(){try{d.a.get(H).then((function(e){p(e.data.hourly),console.log(e.data.hourly)}))}catch(e){d.a.get(H).then((function(e){return p(e.data.hourly)}))}}),[x]),c.a.createElement("div",{className:"App ".concat(function(){switch(a.weather[0].main){case"Rain":return"rainny-day";case"Clouds":return"cloudy-day";case"Clear":return"clear-sky";case"Smoke":return"smoke-day";default:return""}}())},c.a.createElement("form",{action:"submit",onSubmit:function(e){e.preventDefault();N(S),O("")},className:"search-form"},c.a.createElement("input",{type:"text",placeholder:"search here",onChange:function(e){var t=e.target.value;O(t)},value:S})),c.a.createElement(f,{weather:a,weatherHly:u}))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.d314ff6f.chunk.js.map